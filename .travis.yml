sudo: required
dist: focal
notifications:
  email: false
services:
- docker
language: java
jdk:
- openjdk11
env:
  matrix:
  - DOCKER_VERSION=19.03.15
  - DOCKER_VERSION=20.10.6 UPLOAD_SONATYPE=1
  global:
  - secure: 0RNwMWSnPpUohA8vJY4wn39ZQ/+sYlVqFw05XaTWg5yiSjb4b5ke6htknY/S9njnjMQiigEDuP82omX0zMugE/sssvFZYw4MQ1G9WLG1LlJZ5NhydnUIeCreNT4r805qjqSr3Bgv3jzJSx+fscEs5n6rMvZDwk2N/zmD5e+81YTMs68Auukt7PcCbOr7MflzGqMlnVbBYzxRN45bW13oKhAC6Iz5+UgjkahrSwtYmMs3qlK6zoTr6mrPrLJ+3lVFSArsxcfdKBIQ3sNkIuCYR1Jfs+uOto26yVoOGUziTSHSJ+0YA+HfDk96+hHN1oP4O3w+ba+qzo4X2EhJbyOlieM2qK+/q2XHP9BbSMTf5PaDbbU4owxlVWDK2jOeys1dhYVWWFk3Yji5Uvzhci8Y01PPUgogrpXymXule3T7vAlV60CJbPhm7JIJE2BwJBdGxAG0n8BTsNIuhGCI23RnbldhaiuYRFDGMNEmYXRPm9R/t4N3U4eClam7Ka+G0wCDvGzkPwTiVF/LNquEkOIIMWUt1VVSZN2iy4JRdVcozMeeOqGcTU8n/vH0yAe5Kw5pUoaXxuIuGLhWOhiLHjqFQyNJgTlWgYjJwqywcyjjCJk06zRTAPNNJkxkZpuvGtNHyT1oIIXMmTqH4yDs2fqyx768p7DLKtdDpFO6I1vT2WY=
  - secure: txwtxGvjOwb4L4ckdAvmjTjfR7ySMiS+aMN4aj9HVwZrYp9WTzGYZkt84xvCdHGCNW1Awm4MvRuDooHXmelOUE717ACpSJqnNOeZZxAE1QXLqD35Dun487c6ObIB1NtodJ0j+KL6aNnBX9JTej6ehU1k02jnEGIOio0KxDOpi3LugKUE8xxeUvnCvb4rILs5BLNLbt87igRLiGWHIuGkSqgSQQKuVrNz1v1W32RysAMzAiKXMQRuGc1bli1yqdwycbiFesgRVpN58mvROtA/US6EjbfYjNaYX72Hgx2Q1vKuGzLToJ2nL1TsBiFmKsgDRpPuZ4WSNqncCrgNMaI+cP7x0cFAIPYQ/Gao/+T1kZbU53Y9jAht/QCIUXncZRcWCLYZSJsy+EVAvMgmSYYJiTMtaS8/i1t+fnkfCNSCvFgHQHohXp/fY5Sgke1WujDwhXEQYK/iCzKURThjY9mWbO6LC9pE/Z98vP8qSRF6u6zmhLLAe3z2RpGgc/s6I2JGIZbgn0Pod5Hos1CAWSEyft8mT0sQyUrZVcTCCdhmQQS9o7Y7dFHh+O5gXcSs9fhDM8kIedRK4r8rxu9kTbGP7HIuTmVwISqzURaz0/oK1p/8mtWQScOb9I+QGozf24YC/m8grW8uZqQuk33zS+eTR9odVWU20rd8rZ5pBxopEJo=
  - secure: n4JZ+3uSb+kLtGm46li8IFBAGURCX02p0sQs1vOqynRRwgA426wE97AnmVKV0t9WiICCDQk23N9nqSLQyMqh9clO+d3q78gfyHHmAHJxy3gyLM/IbhaMe5LqrH/WcLefwXreTBe513j7gzZYkk8QPoaXQ+WiJ9TAVC9QowKPgTHZceKMnu2xXqL6KhogGIbwq4EHbu4B8ikb8/zgCXVkWTba+qD/k5otUGOJ0E0dPoqPAXZ8jTsDNJpkUDGx9Jm37PJIdYzsuNyi3cqfaVrRRJmH4CT62ehu6ppePP4z+WcChYmtGvZBpFqeYeLI6OZ3gdYs91piEaH8nChfJ0iBOaU1zax4htR6SMd705+2OAwk4qT+onq1GQiMRddPFBQy9Jiwn67wYlRjQXSWDCtr7Xn7atMBySGnXcWJ0Nb4Zk71jzqWdU9V08P59A6yfYRhb7ZrYPY55H9EnAeFthFeYH9NpBA4EjTyqX6BKGe5yr1FTWXAOR/6haqpjXlQv5SmOfD1HefKSwTmaw/YWyncxQkBjvCHWlnq4YUsOjZHCMxciY9Ows0Ukd6XHw22xRD+2aZ8hIeAaJESDwXoOdHdAu5J6F9LyTujOYn1oXGF/rwI9xEEvagBgrLy2LU7x0MDH5g6qfY/4nC0c0nBCCYsOPHgmO8O6fyAu9WEwUDTBWc=
  - secure: oHZLJrCXnV89yO3i8SSlbp8C+KQgjkv0/K80UF5XNRfrbSqmPkkAAG22/jDSnl2ljS7KjDuyi7BI2ZwI3XQA0dVnznxze7jmyYKevh7MipmowlrPk62U8sIhNAvUlRaBLt4DKdS3gG/QxTTu5vgF2+YlA6lF9PclBMYhNX1Koj7E27DOQVZ16WQDS8qOK994/ZmrEStnHqCS8S5zZX9auWvDEc+2/tLDfnsdnkCnkcRdUxenmGt6q9UflToxOisDkHtchpjQzkGKJfpe7nf3Eg3KiUslv9PV54pEu+v8eWdNkSYG3tuT0tYs1Ru305bqoocMeEmB4/vNZLhLEaLBHEc0wu25M1lf/ard/+HKVYkRTzwisqtlQKouGz2UH8Vum+2jRkrL74J+GV8qUu50iCR1LOA+J4/z8kqFIT0WxAVDniUoSuenyYbQfRqWfiiAYj5zfDVPJw3Ntd1qK922jZxYufp/uWBI0VOoGI4RbofNwgNK7IjTrSfrMRkQfqhmsl7zWGpl1WYizpGQdSA4Ze76J1JKzGo6plgSVn6Z8x1FP3zOQUvPoZV7CMuyWiDQ8xyvr4zoi6YNzDK8JZyzUVQABxjnxn2w437+vr/1Ll6ubDMOnYV24pxNx5/0+5UUvWx4vz59cn9SSdpYJ+z77gkC5EW1/MMPpkJHgKzOOxo=
  - secure: ekiQR580Rt+LI7qu4aV37gXp8jFyUNrKYYSmPC6USzeafWEAe7tvU5DB4Ry8BorkAF2PZo8A3arT6HTUTa/vQPhS5T7Vy0aP8o/SWuKCTZChInipjIu5V1TxNjiavCRr3mxPUIWTkA1Fi0YRS6lUAkLWVmnqSUC7U8ZJTMLvNBUsK8vE8+fY1gcBEKOd3J2wxxeLMMaNsGcoZUGshhNAph58cx8tPPiyxfnKrQYAgUDSnxbsVf3O7rUNCYteLphiSSGDrpVxZQjc6RcnJwwKQq+N2E0Nx3fmDaDmJh+aKBLNbBiqW6mMCU9+0RWeX9nxyzRnV29t3d+8hzHU6T4x1CXFw6PcLlNQMSjf3E2CaZb6dwoQe3KAk9QYhDXlY6ehRwBOUA7o2MVykOhG3nMERWDlqrcRXd/+6BIW+H2HcmplHPuAg4+AmjM3kmoHPT2mnVplO64Lnsiv6IvccfZ9Vl/n3AFx50o9ra1gaSGD9o5E+srM+0liFETcH0787Bsmlq/u/bwd7cn+fBDgt3yWzb12cbwLLzmuSwgmvsgs3eIZy1sKOGky6lYIk3CXeYPPm/E/WRd8JZs6rufKtfTWVzjtBVKVo3+b9smpto154yCgCR7KYTIE+LwLAjbBXyvXHE2y3xmFIiM8sRJQwrILWPa683KVZ9gi1lohEfbBZSQ=
  - secure: AHNUhCsofOFRfKe6NESCGexzq5rlSOS2j9D8a/daqooqzhRBqnCctSxobsvxAHjO3xWLGgKdiboGtnqzQjeBD1/LjsYmc+gz8v/74LM4x2Lb8YNg9hiTCGzpq5Qn8hLA3VY8xzJhYbpEdKOkYDRNSP2gzPq34N1SXSGnQC/7rVtHfoCx8OXk2ZhDkulVe75ftS3rLAie0DURx5pcA47PnoMsqEFeTDlnE0MfuPgKdX61wZYRhwcVD+DSkHuFwuiq9HaxhclORWUbe2YHZEvSTgE/6nlHlUmB3sKs3NgHDvF3SnrYd2YLmcd5bDYuS5U2lGYXUn4KWgN593Me4hNQJuqRIbUTCcFOJxukjkd82CHT+BA5uWRi0hfhRMuSukXK2Na9FeWwsb8TkXR/L+NhTEylMFfGDsAS/kE2PjnDVoaEDCdMka0OMwA6L8BHofXIzMyT+N+6Sfd1LFuYeA/Ad+mkUITxGkL2XQDYJZB4JG6609IkBiu7xgy3/MpWEc74d6WbiFu41VZMAKSPjne91a7s8zYZqJm6/MLMJyf7CWI6n/Yepg0+Usi1rWWcwz25dlh4GTsZ6V4LvLJgV75UAgTjIxM7UIalDe000sVtE851Fkiq8aWjE/qSF5x7Sdt3bNxyAiuSg5FZm2l8VFvgqPd1fnFG5ggM67I9GK7+PT8=
install: true
before_install:
- if [ $TRAVIS_PULL_REQUEST == "false" ]; then openssl aes-256-cbc -K $encrypted_d8011ea95b1b_key
  -iv $encrypted_d8011ea95b1b_iv -in secret.asc.enc -out secret.asc -d; fi
- if [ $TRAVIS_PULL_REQUEST == "false" ]; then gpg --batch --import secret.asc; fi
- dpkg -l | grep docker
- "./.travis.sh install_docker"
- docker version
- docker info
script:
- if [ $TRAVIS_PULL_REQUEST == "false" -a x$UPLOAD_SONATYPE == x1 ]; then mvn --settings
  custom-settings.xml -Pdeploy-artifacts clean deploy -Dsurefire.rerunFailingTestsCount=1;
  fi
- if [ $TRAVIS_PULL_REQUEST != "false" -o x$UPLOAD_SONATYPE != x1 ]; then mvn --settings
  custom-settings.xml clean verify -Dsurefire.rerunFailingTestsCount=1; fi
after_success:
- bash <(curl -s https://codecov.io/bash)
after_failure:
- "./.travis.sh dump_docker_config"
branches:
  only:
  - master
  - "/^v\\d+\\.\\d+\\.\\d+(-.+)?$/"
cache:
  directories:
  - "$HOME/.m2"
